import{x as W,b0 as z,M as N,ap as C,af as $,S,I as A,aD as U,b1 as x,J as j,b2 as F,b3 as J,b4 as K,b5 as V,b6 as y,D as q,ad as k,R as G,d as Q,y as L,b7 as Z,i as O}from"./index-ClR9mido.js";import{t as _}from"./typescript-C4g6lTyq.js";import{a as R}from"./scroll-Cpbtgqy5.js";import{P as b}from"./vnode-D1sms20D.js";const de=(e,o,n,s)=>{let c={offsetX:0,offsetY:0};const a=u=>{const m=u.clientX,f=u.clientY,{offsetX:v,offsetY:p}=c,d=e.value.getBoundingClientRect(),h=d.left,g=d.top,T=d.width,Y=d.height,I=document.documentElement.clientWidth,P=document.documentElement.clientHeight,B=-h+v,H=-g+p,X=I-h-T+v,D=P-g-Y+p,M=E=>{let r=v+E.clientX-m,i=p+E.clientY-f;s!=null&&s.value||(r=Math.min(Math.max(r,B),X),i=Math.min(Math.max(i,H),D)),c={offsetX:r,offsetY:i},e.value&&(e.value.style.transform=`translate(${C(r)}, ${C(i)})`)},w=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",w)},t=()=>{o.value&&e.value&&o.value.addEventListener("mousedown",a)},l=()=>{o.value&&e.value&&o.value.removeEventListener("mousedown",a)};W(()=>{z(()=>{n.value?t():l()})}),N(()=>{l()})},re=(e,o={})=>{$(e)||_("[useLockscreen]","You need to pass a ref param to this function");const n=o.ns||S("popup"),s=A(()=>n.bm("parent","hidden"));if(!U||x(document.body,s.value))return;let c=0,a=!1,t="0";const l=()=>{setTimeout(()=>{V(document==null?void 0:document.body,s.value),a&&document&&(document.body.style.width=t)},200)};j(e,u=>{if(!u){l();return}a=!x(document.body,s.value),a&&(t=document.body.style.width),c=R(n.namespace.value);const m=document.documentElement.clientHeight<document.body.scrollHeight,f=F(document.body,"overflowY");c>0&&(m||f==="scroll")&&a&&(document.body.style.width=`calc(100% - ${c}px)`),J(document.body,s.value)}),K(()=>l())},ee=e=>{if(!e)return{onClick:y,onMousedown:y,onMouseup:y};let o=!1,n=!1;return{onClick:t=>{o&&n&&e(t),o=n=!1},onMousedown:t=>{o=t.target===t.currentTarget},onMouseup:t=>{n=t.target===t.currentTarget}}},te=q({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:k([String,Array,Object])},zIndex:{type:k([String,Number])}}),oe={click:e=>e instanceof MouseEvent},ne="overlay";var se=G({name:"ElOverlay",props:te,emits:oe,setup(e,{slots:o,emit:n}){const s=S(ne),c=u=>{n("click",u)},{onClick:a,onMousedown:t,onMouseup:l}=ee(e.customMaskEvent?void 0:c);return()=>e.mask?Q("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:t,onMouseup:l},[L(o,"default")],b.STYLE|b.CLASS|b.PROPS,["onClick","onMouseup","onMousedown"]):Z("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[L(o,"default")])}});const ie=se,me=e=>O.post("/member/order",e),fe=e=>O.get(`/member/order/${e}`);export{ie as E,re as a,ee as b,me as c,fe as g,de as u};
