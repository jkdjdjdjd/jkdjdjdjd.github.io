/* empty css             *//* empty css               *//* empty css              */import{E as H}from"./input-number-B7OFUZqU.js";import{i as I,_ as L,r as v,x as C,o as i,c as d,b as e,t as s,F as b,l as y,v as P,q as $,B as A,z as F,A as G,d as l,w as _,Z as T,ab as X,f as z,g as c,p as M,h as R}from"./index-ClR9mido.js";import{E as U,a as Z}from"./breadcrumb-item-BHFuY-ON.js";import{G as J}from"./GoodsItem-CktuxvNZ.js";import{E as x}from"./index-CprTcvBI.js";import{E as K}from"./index-6DeqQRHY.js";import"./index-C-XKZ7yh.js";import"./typescript-C4g6lTyq.js";import"./index-BCZ2JZN9.js";import"./config-provider-KQkAXYMc.js";const Q=o=>I.get("/goods/",{params:{id:o}}),W=({id:o,type:p,limit:n})=>I.get("/goods/hot",{params:{id:o,type:p,limit:n}}),Y={class:"goods-hot"},ee={__name:"HotList",props:{queryObj:{type:Object,required:!0},title:{type:String,required:!0}},setup(o){const p=o,n=v([]),h=async()=>{const t=await W({...p.queryObj,limit:3});n.value=t};return C(()=>{h()}),(t,f)=>(i(),d("div",Y,[e("h3",null,s(o.title),1),(i(!0),d(b,null,y(n.value,r=>(i(),P(J,{key:r.id,good:r},null,8,["good"]))),128))]))}},S=L(ee,[["__scopeId","data-v-a9da7eb9"]]),a=o=>(M("data-v-17820f8f"),o=o(),R(),o),te={class:"xtx-goods-page"},se={key:0,class:"container"},oe={class:"bread-container"},le={class:"info-container"},ae={class:"goods-info"},ne={class:"media"},ie={class:"goods-sales"},ce=a(()=>e("p",null,"销量人气",-1)),ue=a(()=>e("p",null,[e("i",{class:"iconfont icon-task-filling"}),c("销量人气")],-1)),de=a(()=>e("p",null,"商品评价",-1)),re=a(()=>e("p",null,[e("i",{class:"iconfont icon-comment-filling"}),c("查看评价")],-1)),_e=a(()=>e("p",null,"收藏人气",-1)),pe=a(()=>e("p",null,[e("i",{class:"iconfont icon-favorite-filling"}),c("收藏商品")],-1)),me=a(()=>e("p",null,"品牌信息",-1)),ve=a(()=>e("p",null,[e("i",{class:"iconfont icon-dynamic-filling"}),c("品牌主页")],-1)),ge={class:"spec"},he={class:"g-name"},fe={class:"g-desc"},be={class:"g-price"},ye=a(()=>e("div",{class:"g-service"},[e("dl",null,[e("dt",null,"促销"),e("dd",null,"12月好物放送，App领券购买直降120元")]),e("dl",null,[e("dt",null,"服务"),e("dd",null,[e("span",null,"无忧退货"),e("span",null,"快速退款"),e("span",null,"免费包邮"),e("a",{href:"javascript:;"},"了解详情")])])],-1)),ke={class:"goods-footer"},xe={class:"goods-article"},Se={class:"goods-tabs"},Ie=a(()=>e("nav",null,[e("a",null,"商品详情")],-1)),Le={class:"goods-detail"},Ce={class:"attrs"},Ee={class:"dt"},je={class:"dd"},qe=["src"],Be={class:"goods-aside"},Oe={__name:"index",setup(o){const p=$(),n=v(1),h=A(),t=v({}),f=v(!0),r=v({}),E=async()=>{const m=await Q(h.params.id);t.value=m,f.value=!1},j=m=>{r.value=m,console.log("🚀 ~ getSku ~ sku:",m)},q=()=>{r.value.skuId?(p.addCart({id:t.value.id,name:t.value.name,price:t.value.price,picture:t.value.mainPictures[0],count:n.value,skuId:r.value.skuId,attrsText:r.value.specsText,selected:!0}),x.success("添加成功"),n.value=1):x.error("请选择商品规格")};return C(()=>{E()}),(m,k)=>{const g=Z,B=U,O=X,w=z("XtxSku"),V=H,D=K,N=F("personLoading");return G((i(),d("div",te,[t.value.id?(i(),d("div",se,[e("div",oe,[l(B,{separator:">"},{default:_(()=>[l(g,{to:{path:"/"}},{default:_(()=>[c("首页")]),_:1}),l(g,{to:{path:`/rabbit/category/${t.value.categories[1].id}`}},{default:_(()=>[c(s(t.value.categories[1].name),1)]),_:1},8,["to"]),l(g,{to:{path:`/rabbit/category/sub/${t.value.categories[0].id}`}},{default:_(()=>[c(s(t.value.categories[0].name),1)]),_:1},8,["to"]),l(g,null,{default:_(()=>[c(s(t.value.name),1)]),_:1})]),_:1})]),e("div",le,[e("div",null,[e("div",ae,[e("div",ne,[l(O,{imageList:t.value.mainPictures},null,8,["imageList"]),e("ul",ie,[e("li",null,[ce,e("p",null,s(t.value.salesCount)+"+",1),ue]),e("li",null,[de,e("p",null,s(t.value.commentCount)+"+",1),re]),e("li",null,[_e,e("p",null,s(t.value.collectCount)+"+",1),pe]),e("li",null,[me,e("p",null,s(t.value.brand.name)+"+",1),ve])])]),e("div",ge,[e("p",he,s(t.value.name),1),e("p",fe,s(t.value.desc),1),e("p",be,[e("span",null,s(t.value.price),1),e("span",null,s(t.value.oldPrice),1)]),ye,l(w,{goods:t.value,onGetSkuFn:j},null,8,["goods"]),l(V,{modelValue:n.value,"onUpdate:modelValue":k[0]||(k[0]=u=>n.value=u),min:1},null,8,["modelValue"]),e("div",null,[l(D,{size:"large",onClick:q,class:"btn"},{default:_(()=>[c(" 加入购物车 ")]),_:1})])])]),e("div",ke,[e("div",xe,[e("div",Se,[Ie,e("div",Le,[e("ul",Ce,[(i(!0),d(b,null,y(t.value.details.properties,u=>(i(),d("li",{key:u.name},[e("span",Ee,s(u.name),1),e("span",je,s(u.value),1)]))),128))]),(i(!0),d(b,null,y(t.value.details.pictures,u=>(i(),d("img",{key:u,src:u,alt:""},null,8,qe))),128))])])]),e("div",Be,[l(S,{queryObj:{id:t.value.id,type:1},title:"24小时热销"},null,8,["queryObj"]),l(S,{queryObj:{id:t.value.id,type:2},title:"周热销"},null,8,["queryObj"])])])])])])):T("",!0)])),[[N,f.value]])}}},Me=L(Oe,[["__scopeId","data-v-17820f8f"]]);export{Me as default};
