import{D as he,G as Le,H as Ae,r as I,I as $,m as e,J as Y,K as Pe,x as ge,L as Oe,M as Ve,N as ze,O as De,P as Re,Q as pe,R as ee,S as ye,T as Ge,o as B,c as R,v as ce,w as x,A as Z,b as P,n as A,U as J,d as Q,V as ve,W as Fe,X as q,Y as fe,Z as U,$ as Ke,y as Ie,a0 as Ce,F as Ue,l as We,t as je,a1 as we,a2 as Xe,a3 as Ye,a4 as Je,a5 as Qe,a6 as Ze,a7 as qe,i as te}from"./index-ClR9mido.js";import{u as xe}from"./index-CqcoIh08.js";import{f as et}from"./vnode-D1sms20D.js";import{t as de}from"./throttle-Du3P3sCE.js";const tt=he({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),at={change:(a,O)=>[a,O].every(Le)},Se=Symbol("carouselContextKey"),me=300,st=(a,O,r)=>{const{children:o,addChild:E,removeChild:_}=xe(pe(),"ElCarouselItem"),H=Ae(),s=I(-1),C=I(null),N=I(!1),w=I(),k=I(0),b=I(!0),g=I(!0),d=I(!1),G=$(()=>a.arrow!=="never"&&!e(S)),V=$(()=>o.value.some(t=>t.props.label.toString().length>0)),T=$(()=>a.type==="card"),S=$(()=>a.direction==="vertical"),F=$(()=>a.height!=="auto"?{height:a.height}:{height:`${k.value}px`,overflow:"hidden"}),n=de(t=>{m(t)},me,{trailing:!0}),i=de(t=>{z(t)},me),p=t=>b.value?s.value<=1?t<=1:t>1:!0;function v(){C.value&&(clearInterval(C.value),C.value=null)}function y(){a.interval<=0||!a.autoplay||C.value||(C.value=setInterval(()=>L(),a.interval))}const L=()=>{g.value||(d.value=!0),g.value=!1,s.value<o.value.length-1?s.value=s.value+1:a.loop&&(s.value=0)};function m(t){if(g.value||(d.value=!0),g.value=!1,De(t)){const K=o.value.filter(D=>D.props.name===t);K.length>0&&(t=o.value.indexOf(K[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const u=o.value.length,M=s.value;t<0?s.value=a.loop?u-1:0:t>=u?s.value=a.loop?0:u-1:s.value=t,M===s.value&&l(M),re()}function l(t){o.value.forEach((u,M)=>{u.translateItem(M,s.value,t)})}function W(t,u){var M,K,D,j;const X=e(o),ie=X.length;if(ie===0||!t.states.inStage)return!1;const ke=u+1,Ee=u-1,ue=ie-1,Me=X[ue].states.active,He=X[0].states.active,Be=(K=(M=X[ke])==null?void 0:M.states)==null?void 0:K.active,$e=(j=(D=X[Ee])==null?void 0:D.states)==null?void 0:j.active;return u===ue&&He||Be?"left":u===0&&Me||$e?"right":!1}function ae(){N.value=!0,a.pauseOnHover&&v()}function se(){N.value=!1,y()}function oe(){d.value=!1}function f(t){e(S)||o.value.forEach((u,M)=>{t===W(u,M)&&(u.states.hover=!0)})}function c(){e(S)||o.value.forEach(t=>{t.states.hover=!1})}function h(t){t!==s.value&&(g.value||(d.value=!0)),s.value=t}function z(t){a.trigger==="hover"&&t!==s.value&&(s.value=t,g.value||(d.value=!0))}function ne(){m(s.value-1)}function be(){m(s.value+1)}function re(){v(),a.pauseOnHover||y()}function Te(t){a.height==="auto"&&(k.value=t)}function Ne(){var t;const u=(t=H.default)==null?void 0:t.call(H);if(!u)return null;const M=et(u),K="ElCarouselItem",D=M.filter(j=>Re(j)&&j.type.name===K);return(D==null?void 0:D.length)===2&&a.loop&&!T.value?(b.value=!0,D):(b.value=!1,null)}Y(()=>s.value,(t,u)=>{l(u),b.value&&(t=t%2,u=u%2),u>-1&&O("change",t,u)}),Y(()=>a.autoplay,t=>{t?y():v()}),Y(()=>a.loop,()=>{m(s.value)}),Y(()=>a.interval,()=>{re()});const le=Pe();return ge(()=>{Y(()=>o.value,()=>{o.value.length>0&&m(a.initialIndex)},{immediate:!0}),le.value=Oe(w.value,()=>{l()}),y()}),Ve(()=>{v(),w.value&&le.value&&le.value.stop()}),ze(Se,{root:w,isCardType:T,isVertical:S,items:o,loop:a.loop,addItem:E,removeItem:_,setActiveItem:m,setContainerHeight:Te}),{root:w,activeIndex:s,arrowDisplay:G,hasLabel:V,hover:N,isCardType:T,isTransitioning:d,items:o,isVertical:S,containerStyle:F,isItemsTwoLength:b,handleButtonEnter:f,handleTransitionEnd:oe,handleButtonLeave:c,handleIndicatorClick:h,handleMouseEnter:ae,handleMouseLeave:se,setActiveItem:m,prev:ne,next:be,PlaceholderItem:Ne,isTwoLengthShow:p,throttledArrowClick:n,throttledIndicatorHover:i}},ot=["aria-label"],nt=["aria-label"],lt=["onMouseenter","onClick"],rt=["aria-label"],it={key:0},ut={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},ct=P("defs",null,[P("filter",{id:"elCarouselHorizontal"},[P("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),P("filter",{id:"elCarouselVertical"},[P("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),vt=[ct],ft="ElCarousel",dt=ee({name:ft}),mt=ee({...dt,props:tt,emits:at,setup(a,{expose:O,emit:r}){const o=a,{root:E,activeIndex:_,arrowDisplay:H,hasLabel:s,hover:C,isCardType:N,items:w,isVertical:k,containerStyle:b,handleButtonEnter:g,handleButtonLeave:d,isTransitioning:G,handleIndicatorClick:V,handleMouseEnter:T,handleMouseLeave:S,handleTransitionEnd:F,setActiveItem:n,prev:i,next:p,PlaceholderItem:v,isTwoLengthShow:y,throttledArrowClick:L,throttledIndicatorHover:m}=st(o,r),l=ye("carousel"),{t:W}=Ge(),ae=$(()=>{const f=[l.b(),l.m(o.direction)];return e(N)&&f.push(l.m("card")),f}),se=$(()=>{const f=[l.e("container")];return o.motionBlur&&e(G)&&f.push(e(k)?`${l.namespace.value}-transitioning-vertical`:`${l.namespace.value}-transitioning`),f}),oe=$(()=>{const f=[l.e("indicators"),l.em("indicators",o.direction)];return e(s)&&f.push(l.em("indicators","labels")),o.indicatorPosition==="outside"&&f.push(l.em("indicators","outside")),e(k)&&f.push(l.em("indicators","right")),f});return O({setActiveItem:n,prev:i,next:p}),(f,c)=>(B(),R("div",{ref_key:"root",ref:E,class:A(e(ae)),onMouseenter:c[7]||(c[7]=J((...h)=>e(T)&&e(T)(...h),["stop"])),onMouseleave:c[8]||(c[8]=J((...h)=>e(S)&&e(S)(...h),["stop"]))},[e(H)?(B(),ce(fe,{key:0,name:"carousel-arrow-left",persisted:""},{default:x(()=>[Z(P("button",{type:"button",class:A([e(l).e("arrow"),e(l).em("arrow","left")]),"aria-label":e(W)("el.carousel.leftArrow"),onMouseenter:c[0]||(c[0]=h=>e(g)("left")),onMouseleave:c[1]||(c[1]=(...h)=>e(d)&&e(d)(...h)),onClick:c[2]||(c[2]=J(h=>e(L)(e(_)-1),["stop"]))},[Q(e(ve),null,{default:x(()=>[Q(e(Fe))]),_:1})],42,ot),[[q,(f.arrow==="always"||e(C))&&(o.loop||e(_)>0)]])]),_:1})):U("v-if",!0),e(H)?(B(),ce(fe,{key:1,name:"carousel-arrow-right",persisted:""},{default:x(()=>[Z(P("button",{type:"button",class:A([e(l).e("arrow"),e(l).em("arrow","right")]),"aria-label":e(W)("el.carousel.rightArrow"),onMouseenter:c[3]||(c[3]=h=>e(g)("right")),onMouseleave:c[4]||(c[4]=(...h)=>e(d)&&e(d)(...h)),onClick:c[5]||(c[5]=J(h=>e(L)(e(_)+1),["stop"]))},[Q(e(ve),null,{default:x(()=>[Q(e(Ke))]),_:1})],42,nt),[[q,(f.arrow==="always"||e(C))&&(o.loop||e(_)<e(w).length-1)]])]),_:1})):U("v-if",!0),P("div",{class:A(e(se)),style:Ce(e(b)),onTransitionend:c[6]||(c[6]=(...h)=>e(F)&&e(F)(...h))},[Q(e(v)),Ie(f.$slots,"default")],38),f.indicatorPosition!=="none"?(B(),R("ul",{key:2,class:A(e(oe))},[(B(!0),R(Ue,null,We(e(w),(h,z)=>Z((B(),R("li",{key:z,class:A([e(l).e("indicator"),e(l).em("indicator",f.direction),e(l).is("active",z===e(_))]),onMouseenter:ne=>e(m)(z),onClick:J(ne=>e(V)(z),["stop"])},[P("button",{class:A(e(l).e("button")),"aria-label":e(W)("el.carousel.indicator",{index:z+1})},[e(s)?(B(),R("span",it,je(h.props.label),1)):U("v-if",!0)],10,rt)],42,lt)),[[q,e(y)(z)]])),128))],2)):U("v-if",!0),o.motionBlur?(B(),R("svg",ut,vt)):U("v-if",!0)],34))}});var ht=we(mt,[["__file","carousel.vue"]]);const gt=he({name:{type:String,default:""},label:{type:[String,Number],default:""}}),pt=(a,O)=>{const r=Xe(Se),o=pe(),E=.83,_=I(),H=I(!1),s=I(0),C=I(1),N=I(!1),w=I(!1),k=I(!1),b=I(!1),{isCardType:g,isVertical:d}=r;function G(n,i,p){const v=p-1,y=i-1,L=i+1,m=p/2;return i===0&&n===v?-1:i===v&&n===0?p:n<y&&i-n>=m?p+1:n>L&&n-i>=m?-2:n}function V(n,i){var p,v;const y=e(d)?((p=r.root.value)==null?void 0:p.offsetHeight)||0:((v=r.root.value)==null?void 0:v.offsetWidth)||0;return k.value?y*((2-E)*(n-i)+1)/4:n<i?-(1+E)*y/4:(3+E)*y/4}function T(n,i,p){const v=r.root.value;return v?((p?v.offsetHeight:v.offsetWidth)||0)*(n-i):0}const S=(n,i,p)=>{var v;const y=e(g),L=(v=r.items.value.length)!=null?v:Number.NaN,m=n===i;!y&&!Qe(p)&&(b.value=m||n===p),!m&&L>2&&r.loop&&(n=G(n,i,L));const l=e(d);N.value=m,y?(k.value=Math.round(Math.abs(n-i))<=1,s.value=V(n,i),C.value=e(N)?1:E):s.value=T(n,i,l),w.value=!0,m&&_.value&&r.setContainerHeight(_.value.offsetHeight)};function F(){if(r&&e(g)){const n=r.items.value.findIndex(({uid:i})=>i===o.uid);r.setActiveItem(n)}}return ge(()=>{r.addItem({props:a,states:Ye({hover:H,translate:s,scale:C,active:N,ready:w,inStage:k,animating:b}),uid:o.uid,translateItem:S})}),Je(()=>{r.removeItem(o.uid)}),{carouselItemRef:_,active:N,animating:b,hover:H,inStage:k,isVertical:d,translate:s,isCardType:g,scale:C,ready:w,handleItemClick:F}},yt=ee({name:"ElCarouselItem"}),It=ee({...yt,props:gt,setup(a){const O=a,r=ye("carousel"),{carouselItemRef:o,active:E,animating:_,hover:H,inStage:s,isVertical:C,translate:N,isCardType:w,scale:k,ready:b,handleItemClick:g}=pt(O),d=$(()=>[r.e("item"),r.is("active",E.value),r.is("in-stage",s.value),r.is("hover",H.value),r.is("animating",_.value),{[r.em("item","card")]:w.value,[r.em("item","card-vertical")]:w.value&&C.value}]),G=$(()=>{const T=`${`translate${e(C)?"Y":"X"}`}(${e(N)}px)`,S=`scale(${e(k)})`;return{transform:[T,S].join(" ")}});return(V,T)=>Z((B(),R("div",{ref_key:"carouselItemRef",ref:o,class:A(e(d)),style:Ce(e(G)),onClick:T[0]||(T[0]=(...S)=>e(g)&&e(g)(...S))},[e(w)?Z((B(),R("div",{key:0,class:A(e(r).e("mask"))},null,2)),[[q,!e(E)]]):U("v-if",!0),Ie(V.$slots,"default")],6)),[[q,e(b)]])}});var _e=we(It,[["__file","carousel-item.vue"]]);const bt=Ze(ht,{CarouselItem:_e}),Tt=qe(_e),Nt=a=>te.get("/home/banner",{params:{distributionSite:a||1}}),kt=()=>te.get("/home/new"),Et=()=>te.get("/home/hot"),Mt=()=>te.get("/home/goods");export{Tt as E,bt as a,kt as b,Et as c,Mt as d,Nt as g};
